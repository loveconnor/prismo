<aside
  *ngIf="shouldShowPanel"
  [class]="'flex w-full min-w-[280px] flex-col border-l border-[#1f2937] bg-[#0e1318] transition-transform duration-200 flex-shrink-0 ' + (collapsed ? 'translate-x-full' : 'translate-x-0')"
>
  <app-tabs [defaultValue]="defaultTabValue" [value]="value" (valueChange)="onValueChange($event)" className="flex flex-1 flex-col">
  <app-tabs-list className="flex h-auto w-full items-center gap-2 rounded-none border-b border-[#1f2937] bg-transparent p-0">
      <app-tabs-trigger *ngIf="hasHints" value="hints" className="rounded-none border-none bg-transparent px-3 py-2 text-sm font-medium text-[#a9b1bb] focus-visible:ring-0 outline-none hover:text-[#e5e7eb] data-[state=active]:text-[#e5e7eb] data-[state=active]:shadow-[inset_0_-2px_0_0_#BC78F9]">
        Hints
      </app-tabs-trigger>
      <app-tabs-trigger *ngIf="hasFeedback" value="feedback" className="rounded-none border-none bg-transparent px-3 py-2 text-sm font-medium text-[#a9b1bb] focus-visible:ring-0 outline-none hover:text-[#e5e7eb] data-[state=active]:text-[#e5e7eb] data-[state=active]:shadow-[inset_0_-2px_0_0_#BC78F9]">
        Feedback
      </app-tabs-trigger>
    </app-tabs-list>

    <app-tabs-content *ngIf="hasHints" value="hints" className="flex-1 overflow-y-auto p-4">
      <div *ngFor="let hint of formattedHints; trackBy: trackByHintLevel" class="mb-3 overflow-hidden rounded-[10px] border border-[#1f2937] bg-[#151a20]">
        <button type="button" class="flex w-full items-center justify-between p-3 text-left transition-colors hover:bg-white/[0.04]" (click)="toggleHint(hint.level)">
          <div class="flex items-center gap-2">
            <div class="flex h-5 w-5 items-center justify-center rounded-full border border-[#BC78F9]/30 bg-[#BC78F9]/15 text-xs font-semibold text-[#bc78f9]">
              {{ hint.level }}
            </div>
            <span class="text-sm font-medium text-[#e5e7eb]">{{ hint.title }}</span>
          </div>
          <ng-icon *ngIf="openHints.includes(hint.level)" name="lucideChevronDown" class="h-4 w-4 text-[#a9b1bb]"></ng-icon>
          <ng-icon *ngIf="!openHints.includes(hint.level)" name="lucideChevronRight" class="h-4 w-4 text-[#a9b1bb]"></ng-icon>
        </button>
        <div *ngIf="openHints.includes(hint.level)" class="border-t border-[#1f2937] p-3 text-sm leading-relaxed text-[#a9b1bb]">
          {{ hint.content }}
        </div>
      </div>
    </app-tabs-content>

    <app-tabs-content *ngIf="hasFeedback" value="feedback" className="flex-1 overflow-y-auto p-4">
      <div *ngIf="!aiReview" class="py-6 text-center text-sm text-[#9ca3af]">Run your code to see feedback here</div>
      <div *ngIf="aiReview" class="space-y-3">
        <div class="rounded-lg border border-sky-500/20 bg-gradient-to-br from-sky-500/10 to-transparent p-4">
          <div class="flex items-start gap-3">
            <span class="text-xl flex-shrink-0">âœ¨</span>
            <div class="flex-1">
              <div class="text-xs font-semibold text-sky-400 mb-2 uppercase tracking-wide">AI Code Review</div>
              <div class="text-sm text-[#e5e7eb] leading-relaxed">{{ aiReview }}</div>
            </div>
          </div>
        </div>
        <div class="text-xs text-[#9ca3af] italic text-center">
          Detailed feedback appears inline in the editor
        </div>
      </div>
    </app-tabs-content>

  
  </app-tabs>
</aside>


