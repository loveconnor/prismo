<div class="min-h-screen bg-background py-8 px-4">
  <div class="max-w-7xl mx-auto">
    <!-- Header -->
    <header class="mb-8">
      <h1 class="text-4xl font-bold text-foreground mb-2">Widget Showcase</h1>
      <p class="text-lg text-muted-foreground">
        Explore and test the StepPromptInteractiveComponent with various configurations
      </p>
    </header>

    <!-- Main Content -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
      <!-- Left Sidebar - Example Selector -->
      <div class="lg:col-span-1">
        <app-card class="sticky top-4">
          <app-card-header>
            <h2 class="text-xl font-semibold text-foreground">Examples</h2>
            <p class="text-sm text-muted-foreground mt-1">
              Select an example to preview
            </p>
          </app-card-header>
          
          <app-card-content>
            <div class="space-y-2">
              <!-- Custom Example -->
              <button
                (click)="selectExample('custom')"
                [class]="'w-full text-left px-4 py-3 rounded-lg border transition-colors ' +
                         (activeExample() === 'custom' 
                           ? 'border-primary bg-primary/10 text-primary' 
                           : 'border-border bg-card text-foreground hover:bg-accent')"
              >
                <div class="font-medium">Try It Yourself!</div>
                <div class="text-sm opacity-80">Interactive demo example</div>
              </button>

              <!-- Predefined Examples -->
              <button
                *ngFor="let item of examples | keyvalue"
                (click)="selectExample(item.key)"
                [class]="'w-full text-left px-4 py-3 rounded-lg border transition-colors ' +
                         (activeExample() === item.key 
                           ? 'border-primary bg-primary/10 text-primary' 
                           : 'border-border bg-card text-foreground hover:bg-accent')"
              >
                <div class="font-medium">{{ item.value.name }}</div>
                <div class="text-sm opacity-80">{{ item.value.description }}</div>
              </button>
            </div>

            <!-- Keyboard Shortcuts Info -->
            <div class="mt-6 p-4 bg-accent/50 rounded-lg">
              <h3 class="text-sm font-semibold text-foreground mb-2">⌨️ Keyboard Shortcuts</h3>
              <div class="space-y-1 text-xs text-muted-foreground">
                <div><kbd class="px-1.5 py-0.5 bg-background rounded border">H</kbd> Show hint</div>
                <div><kbd class="px-1.5 py-0.5 bg-background rounded border">Enter</kbd> Submit</div>
                <div><kbd class="px-1.5 py-0.5 bg-background rounded border">→</kbd> Next step</div>
                <div><kbd class="px-1.5 py-0.5 bg-background rounded border">Esc</kbd> Close hint</div>
              </div>
            </div>
          </app-card-content>
        </app-card>
      </div>

      <!-- Center - Widget Preview -->
      <div class="lg:col-span-2 space-y-6">
        <!-- Step Prompt Widget Demo -->
        <app-card>
          <app-card-header>
            <h3 class="text-lg font-semibold text-foreground">Step Prompt</h3>
            <p class="text-sm text-muted-foreground mt-1">Displays the current task or question</p>
          </app-card-header>
          <app-card-content>
            <app-step-prompt
              [metadata]="{ id: 'step-prompt', title: 'Step Prompt', description: 'Task prompt', skills: [], difficulty: 2, estimated_time: 30, input_type: WidgetInputType.TEXT, output_type: WidgetOutputType.SCAFFOLD, dependencies: [], adaptive_hooks: {}, version: '1.0.0', category: 'core' }"
              title="Implement Binary Search"
              [prompt]="'Write a function that performs binary search on a sorted array.\nReturn the index if found, otherwise -1.'"
              [estimatedTime]="45"
              [showFooter]="true"
            ></app-step-prompt>
          </app-card-content>
        </app-card>

        <!-- Hint Panel (Inline Card) -->
        <app-card>
          <app-card-header>
            <h3 class="text-lg font-semibold text-foreground">Hint Panel</h3>
            <p class="text-sm text-muted-foreground mt-1">Reveals tiered hints progressively</p>
          </app-card-header>
          <app-card-content>
            <app-hint-panel
              [hints]="[
                { id: 'h1', tier: 1, text: 'Start by checking the middle element.', revealed: false, viewCount: 0 },
                { id: 'h2', tier: 2, text: 'Adjust left/right bounds based on comparison.', revealed: false, viewCount: 0 },
                { id: 'h3', tier: 3, text: 'Stop when left exceeds right.', revealed: false, viewCount: 0 }
              ]"
              [showProgress]="true"
              [maxHintsPerTier]="1"
            ></app-hint-panel>
          </app-card-content>
        </app-card>

        <!-- Feedback Box (Inline Card) -->
        <app-card>
          <app-card-header>
            <h3 class="text-lg font-semibold text-foreground">Feedback Box</h3>
            <p class="text-sm text-muted-foreground mt-1">Provides correctness and explanation</p>
          </app-card-header>
          <app-card-content>
            <app-feedback-box
              type="info"
              title="Check your approach"
              message="Binary search should halve the search space each iteration."
              [explanation]="'Make sure to update left/right pointers correctly and avoid infinite loops.'"
              [nextSteps]="['Test with even/odd length arrays', 'Handle not-found case explicitly']"
              [showActions]="true"
              [showMeta]="true"
              [autoComplete]="false"
            ></app-feedback-box>
          </app-card-content>
        </app-card>

        <!-- Confidence Meter (Inline Card) -->
        <app-card>
          <app-card-header>
            <h3 class="text-lg font-semibold text-foreground">Confidence Meter</h3>
            <p class="text-sm text-muted-foreground mt-1">Quick self-rating slider</p>
          </app-card-header>
          <app-card-content>
            <app-confidence-meter
              title="How confident are you implementing binary search?"
              [minValue]="1"
              [maxValue]="5"
              [step]="1"
              [scaleLabels]="['Not at all', 'Slightly', 'Moderately', 'Very', 'Extremely']"
              [showActions]="true"
              [showFooter]="true"
            ></app-confidence-meter>
          </app-card-content>
        </app-card>

        

        <!-- Coach Chat Widget Demo -->
        <app-card>
          <app-card-header>
            <h3 class="text-lg font-semibold text-foreground">Coach Chat Demo</h3>
            <p class="text-sm text-muted-foreground mt-1">
              Try the AI coaching assistant
            </p>
          </app-card-header>
          
          <app-card-content>
            <app-coach-chat
              [metadata]="{ id: 'coach-chat', title: 'Coach Chat', description: 'AI Coach', skills: [], difficulty: 3, estimated_time: 300, input_type: WidgetInputType.TEXT, output_type: WidgetOutputType.SCAFFOLD, dependencies: [], adaptive_hooks: {}, version: '1.0.0', category: 'core' }"
              coachId="showcase-coach"
              stepId="step-1"
              variant="inline"
              [context]="coachContext"
              [policy]="{ allowDirectAnswers: false, requireSocraticFirst: true, allowCodeSnippets: true }"
              [integrations]="{ workedExampleAvailable: true }"
              (messageSent)="logEvent('Coach Message Sent', $event)"
              (replyCompleted)="logEvent('Coach Reply Completed', $event)"
              (hintSuggested)="logEvent('Coach Hint Suggested', $event)"
            />
          </app-card-content>
        </app-card>

        <!-- Reflection Prompt Widget Demo -->
        <app-card>
          <app-card-header>
            <h3 class="text-lg font-semibold text-foreground">Reflection Prompt Demo</h3>
            <p class="text-sm text-muted-foreground mt-1">
              Try the self-reflection tool
            </p>
          </app-card-header>
          
          <app-card-content>
            <app-reflection-prompt
              [metadata]="{ id: 'reflection-prompt', title: 'Reflection', description: 'Reflect on learning', skills: [], difficulty: 2, estimated_time: 180, input_type: WidgetInputType.TEXT, output_type: WidgetOutputType.FEEDBACK, dependencies: [], adaptive_hooks: {}, version: '1.0.0', category: 'core' }"
              reflectionId="showcase-reflection"
              scope="step"
              scopeId="step-1"
              promptText="What did you learn in this section? What concepts are still unclear?"
              [chips]="{ 
                feelings: ['confident', 'confused', 'curious', 'frustrated', 'excited'],
                topics: ['recursion', 'base case', 'loops', 'functions'] 
              }"
              [ui]="{ variant: 'inline', showWordCount: true }"
              (reflectionSubmitted)="logEvent('Reflection Submitted', $event)"
              (reflectionSkipped)="logEvent('Reflection Skipped', $event)"
              (suggestHint)="logEvent('Suggest Hint from Reflection', $event)"
            />
          </app-card-content>
        </app-card>

        <!-- Timer Widget Demo -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <app-card>
            <app-card-header>
              <h3 class="text-lg font-semibold text-foreground">Countdown Timer</h3>
              <p class="text-sm text-muted-foreground mt-1">
                3-minute countdown with alerts
              </p>
            </app-card-header>
            
            <app-card-content>
              <app-timer
                [metadata]="{ id: 'timer', title: 'Timer', description: 'Timer widget', skills: [], difficulty: 2, estimated_time: 60, input_type: WidgetInputType.TEXT, output_type: WidgetOutputType.PROGRESS, dependencies: [], adaptive_hooks: {}, version: '1.0.0', category: 'core' }"
                timerId="showcase-countdown"
                scope="step"
                scopeId="step-1"
                mode="countdown"
                [durationMs]="180000"
                [autoStart]="false"
                [allowPause]="true"
                [allowReset]="true"
                [allowAddTime]="true"
                [ui]="{ variant: 'card', size: 'md' }"
                [alerts]="[
                  { at: 'remaining', value: 60000, label: '1 minute remaining', severity: 'warn' },
                  { at: 'remaining', value: 10000, label: '10 seconds left!', severity: 'critical' }
                ]"
                (timerExpired)="logEvent('Timer Expired', $event)"
                (timerAlertFired)="logEvent('Timer Alert', $event)"
              />
            </app-card-content>
          </app-card>

          <app-card>
            <app-card-header>
              <h3 class="text-lg font-semibold text-foreground">Stopwatch</h3>
              <p class="text-sm text-muted-foreground mt-1">
                Track elapsed time with target
              </p>
            </app-card-header>
            
            <app-card-content>
              <app-timer
                [metadata]="{ id: 'timer', title: 'Timer', description: 'Timer widget', skills: [], difficulty: 2, estimated_time: 60, input_type: WidgetInputType.TEXT, output_type: WidgetOutputType.PROGRESS, dependencies: [], adaptive_hooks: {}, version: '1.0.0', category: 'core' }"
                timerId="showcase-stopwatch"
                scope="step"
                scopeId="step-1"
                mode="stopwatch"
                [autoStart]="false"
                [allowPause]="true"
                [allowReset]="true"
                [ui]="{ variant: 'card', size: 'md' }"
                [pacing]="{ targetMs: 120000 }"
                (timerTick)="logEvent('Timer Tick', $event)"
              />
            </app-card-content>
          </app-card>
        </div>

        <!-- Widget Display -->
        <div>
          <!-- Custom Example -->
          <app-step-prompt-interactive
            *ngIf="activeExample() === 'custom'"
            [metadata]="customExample.metadata"
            [promptConfig]="customExample.config"
            (primaryAction)="handlePrimaryAction($event)"
            (submitResponse)="handleSubmit($event)"
            (hintRequested)="handleHintRequest($event)"
            (hintOpened)="handleHintOpen($event)"
            (stepViewStart)="handleViewStart($event)"
            (stepViewComplete)="handleViewComplete($event)"
          />

          <!-- Predefined Examples -->
          <app-step-prompt-interactive
            *ngIf="activeExample() !== 'custom'"
            [metadata]="currentExample.metadata"
            [promptConfig]="currentExample.config"
            (primaryAction)="handlePrimaryAction($event)"
            (submitResponse)="handleSubmit($event)"
            (hintRequested)="handleHintRequest($event)"
            (hintOpened)="handleHintOpen($event)"
            (stepViewStart)="handleViewStart($event)"
            (stepViewComplete)="handleViewComplete($event)"
            (timeUp)="handleTimeUp()"
          />
        </div>

        <!-- Event Log -->
        <app-card>
          <app-card-header>
            <h3 class="text-lg font-semibold text-foreground">Event Log</h3>
            <p class="text-sm text-muted-foreground mt-1">
              Real-time events from the widget (last 10 events)
            </p>
          </app-card-header>
          
          <app-card-content>
            <div *ngIf="events().length === 0" class="text-center py-8 text-muted-foreground">
              No events yet. Interact with the widget to see events here.
            </div>

            <div *ngIf="events().length > 0" class="space-y-2">
              <div
                *ngFor="let event of events()"
                class="p-3 bg-accent/50 rounded-lg border border-border"
              >
                <div class="flex items-start justify-between">
                  <div>
                    <div class="font-medium text-sm text-foreground">{{ event.type }}</div>
                    <div class="text-xs text-muted-foreground mt-1">
                      {{ event.timestamp }}
                    </div>
                  </div>
                  <span class="text-xs bg-primary/20 text-primary px-2 py-1 rounded">
                    Event
                  </span>
                </div>
                <pre class="mt-2 text-xs bg-background p-2 rounded overflow-x-auto">{{ event.data | json }}</pre>
              </div>
            </div>
          </app-card-content>
        </app-card>

        <!-- Documentation Links -->
        <app-card>
          <app-card-header>
            <h3 class="text-lg font-semibold text-foreground">Documentation</h3>
          </app-card-header>
          
          <app-card-content>
            <div class="space-y-2">
              <a
                href="/components/widgets/core/step-prompt/README.md"
                class="block p-3 border border-border rounded-lg hover:bg-accent transition-colors"
                target="_blank"
              >
                <div class="font-medium text-foreground">📖 README</div>
                <div class="text-sm text-muted-foreground">Component overview and features</div>
              </a>
              
              <a
                href="/components/widgets/core/step-prompt/INTEGRATION_GUIDE.md"
                class="block p-3 border border-border rounded-lg hover:bg-accent transition-colors"
                target="_blank"
              >
                <div class="font-medium text-foreground">🚀 Integration Guide</div>
                <div class="text-sm text-muted-foreground">How to use in your app</div>
              </a>
              
              <a
                href="/components/widgets/core/step-prompt/step-prompt-interactive.example.ts"
                class="block p-3 border border-border rounded-lg hover:bg-accent transition-colors"
                target="_blank"
              >
                <div class="font-medium text-foreground">💻 Code Examples</div>
                <div class="text-sm text-muted-foreground">Example implementations</div>
              </a>
            </div>
          </app-card-content>
        </app-card>

        <!-- Widget Metadata -->
        <app-card>
          <app-card-header>
            <h3 class="text-lg font-semibold text-foreground">Widget Metadata</h3>
            <p class="text-sm text-muted-foreground mt-1">
              ACE (Adaptive Curriculum Engine) metadata for current example
            </p>
          </app-card-header>
          
          <app-card-content>
            <div class="space-y-3">
              <div class="grid grid-cols-2 gap-4">
                <div>
                  <div class="text-xs text-muted-foreground">ID</div>
                  <div class="text-sm font-mono text-foreground">
                    {{ activeExample() === 'custom' ? customExample.metadata.id : currentExample.metadata.id }}
                  </div>
                </div>
                <div>
                  <div class="text-xs text-muted-foreground">Category</div>
                  <div class="text-sm text-foreground">
                    {{ activeExample() === 'custom' ? customExample.metadata.category : currentExample.metadata.category }}
                  </div>
                </div>
                <div>
                  <div class="text-xs text-muted-foreground">Difficulty</div>
                  <div class="text-sm text-foreground">
                    {{ activeExample() === 'custom' ? customExample.metadata.difficulty : currentExample.metadata.difficulty }} / 5
                  </div>
                </div>
                <div>
                  <div class="text-xs text-muted-foreground">Est. Time</div>
                  <div class="text-sm text-foreground">
                    {{ activeExample() === 'custom' ? customExample.metadata.estimated_time : currentExample.metadata.estimated_time }}s
                  </div>
                </div>
              </div>

              <div>
                <div class="text-xs text-muted-foreground mb-1">Skills</div>
                <div class="flex flex-wrap gap-1">
                  <span
                    *ngFor="let skill of (activeExample() === 'custom' ? customExample.metadata.skills : currentExample.metadata.skills)"
                    class="text-xs bg-primary/20 text-primary px-2 py-1 rounded"
                  >
                    {{ skill }}
                  </span>
                </div>
              </div>

              <div>
                <div class="text-xs text-muted-foreground mb-1">Adaptive Hooks</div>
                <pre class="text-xs bg-background p-2 rounded overflow-x-auto">{{ (activeExample() === 'custom' ? customExample.metadata.adaptive_hooks : currentExample.metadata.adaptive_hooks) | json }}</pre>
              </div>
            </div>
          </app-card-content>
        </app-card>
      </div>
    </div>
  </div>

  <!-- Hint Panel Widget Section -->
  <div class="mb-8">
    <app-card>
      <app-card-header>
        <h2 class="text-xl font-semibold">Hint Panel</h2>
        <p class="text-sm text-muted-foreground">Reveals tiered hints progressively</p>
      </app-card-header>
      <app-card-content>
        <app-hint-panel
          [hints]="[
            { id: 'h1', tier: 1, text: 'Start by outlining your approach.', revealed: false, viewCount: 0 },
            { id: 'h2', tier: 2, text: 'Try a smaller example by hand.', revealed: false, viewCount: 0 },
            { id: 'h3', tier: 3, text: 'Consider off-by-one issues in loops.', revealed: false, viewCount: 0 }
          ]"
          [showProgress]="true"
          [maxHintsPerTier]="1"
        ></app-hint-panel>
      </app-card-content>
    </app-card>
  </div>

  <!-- Feedback Box Widget Section -->
  <div class="mb-8">
    <app-card>
      <app-card-header>
        <h2 class="text-xl font-semibold">Feedback Box</h2>
        <p class="text-sm text-muted-foreground">Provides correctness and explanation</p>
      </app-card-header>
      <app-card-content>
        <app-feedback-box
          type="success"
          title="Well done!"
          message="Your answer is correct."
          [explanation]="'Binary search halves the search space each step.'"
          [nextSteps]="['Try a harder variant', 'Explain why O(log n) holds']"
          [showActions]="true"
          [showMeta]="true"
          [autoComplete]="false"
        ></app-feedback-box>
      </app-card-content>
    </app-card>
  </div>

  <!-- Confidence Meter Widget Section -->
  <div class="mb-8">
    <app-card>
      <app-card-header>
        <h2 class="text-xl font-semibold">Confidence Meter</h2>
        <p class="text-sm text-muted-foreground">Quick self-rating slider</p>
      </app-card-header>
      <app-card-content>
        <app-confidence-meter
          title="How confident do you feel about this topic?"
          [minValue]="1"
          [maxValue]="5"
          [step]="1"
          [scaleLabels]="['Not at all', 'Slightly', 'Moderately', 'Very', 'Extremely']"
          [showActions]="true"
          [showFooter]="true"
        ></app-confidence-meter>
      </app-card-content>
    </app-card>
  </div>

  <!-- Lab Intro Widget Section -->
  <div class="mb-8">
    <app-card>
      <app-card-header>
        <h2 class="text-xl font-semibold">Lab Introduction Widget</h2>
        <p class="text-sm text-muted-foreground">
          Comprehensive lab landing page
        </p>
      </app-card-header>
      
      <app-card-content>
        <div class="grid gap-6">
          

          <!-- Hero Variant - New Lab -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Hero Variant - New Lab</h3>
            <app-lab-intro
              [metadata]="{ id: 'lab-intro', title: 'Lab Introduction', description: 'Comprehensive lab landing page', skills: [], difficulty: 3, estimated_time: 120, input_type: WidgetInputType.TEXT, output_type: WidgetOutputType.COMPLETION, dependencies: [], adaptive_hooks: {}, version: '1.0.0', category: 'core' }"
              id="showcase-lab-intro-1"
              labId="intro-to-data-structures"
              title="Introduction to Data Structures"
              subtitle="Master the fundamentals"
              [objective]="[
                'Understand arrays, linked lists, and stacks',
                'Implement basic data structure operations',
                'Analyze time and space complexity',
                'Apply data structures to solve problems'
              ]"
              difficulty="medium"
              [estimatedMinutes]="90"
              [skills]="['data-structures', 'algorithms', 'complexity-analysis', 'problem-solving']"
              [ui]="{ variant: 'hero', showSkillChips: true, showMiniSyllabus: true }"
              [miniSyllabus]="[
                { step: 'Introduction to arrays', estMin: 15 },
                { step: 'Linked lists fundamentals', estMin: 20 },
                { step: 'Stack operations', estMin: 20 },
                { step: 'Practice problems', estMin: 35 }
              ]"
              [cta]="{ 
                secondary: [
                  { label: 'Preview', action: 'preview' },
                  { label: 'Share', action: 'share' }
                ]
              }"
              (labViewed)="logEvent('Lab Viewed', $event)"
              (startClicked)="logEvent('Lab Started', $event)"
              (secondaryClicked)="logEvent('Secondary Action', $event)"
            ></app-lab-intro>
          </div>

          <!-- Card Variant - With Prerequisites -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Card Variant - With Prerequisites</h3>
            <app-lab-intro
              [metadata]="{ id: 'lab-intro', title: 'Lab Introduction', description: 'Comprehensive lab landing page', skills: [], difficulty: 3, estimated_time: 120, input_type: WidgetInputType.TEXT, output_type: WidgetOutputType.COMPLETION, dependencies: [], adaptive_hooks: {}, version: '1.0.0', category: 'core' }"
              id="showcase-lab-intro-2"
              labId="advanced-algorithms"
              title="Advanced Algorithms"
              subtitle="Dynamic programming and graph algorithms"
              [objective]="[
                'Master dynamic programming techniques',
                'Implement graph algorithms',
                'Optimize recursive solutions',
                'Solve complex algorithmic challenges'
              ]"
              difficulty="hard"
              [estimatedMinutes]="120"
              [skills]="['dynamic-programming', 'graphs', 'algorithms', 'optimization']"
              [prerequisites]="[
                'Basic data structures knowledge',
                'Understanding of Big-O notation',
                'Experience with recursion'
              ]"
              [policy]="{ requirePrereqAck: true }"
              [ui]="{ variant: 'card', showSkillChips: true }"
              [cta]="{ 
                secondary: [
                  { label: 'View rubric', action: 'rubric' }
                ]
              }"
              (labViewed)="logEvent('Lab Viewed', $event)"
              (prereqAck)="logEvent('Prerequisites Acknowledged', $event)"
              (startClicked)="logEvent('Lab Started', $event)"
            ></app-lab-intro>
          </div>

          <!-- Card Variant - Resume with Progress -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Card Variant - Resume with Progress</h3>
            <app-lab-intro
              [metadata]="{ id: 'lab-intro', title: 'Lab Introduction', description: 'Comprehensive lab landing page', skills: [], difficulty: 3, estimated_time: 120, input_type: WidgetInputType.TEXT, output_type: WidgetOutputType.COMPLETION, dependencies: [], adaptive_hooks: {}, version: '1.0.0', category: 'core' }"
              id="showcase-lab-intro-3"
              labId="web-development-basics"
              title="Web Development Basics"
              subtitle="HTML, CSS, and JavaScript fundamentals"
              objective="Build a responsive portfolio website from scratch"
              difficulty="easy"
              [estimatedMinutes]="60"
              [skills]="['html', 'css', 'javascript', 'responsive-design']"
              [progress]="{ percent: 45, lastStepTitle: 'CSS Flexbox and Grid' }"
              [ui]="{ variant: 'card', showSkillChips: true, compact: true }"
              [integrations]="{ resumeAvailable: true, estimationModelOrigin: 'historical' }"
              [cta]="{ 
                secondary: [
                  { label: 'Start over', action: 'cancel' }
                ]
              }"
              (labViewed)="logEvent('Lab Viewed', $event)"
              (startClicked)="logEvent('Lab Resumed', $event)"
            ></app-lab-intro>
          </div>
        </div>
      </app-card-content>
    </app-card>
  </div>

  <!-- Short Answer Widget Section -->
  <div class="mb-8">
    <app-card>
      <app-card-header>
        <h2 class="text-xl font-semibold">Short Answer Widget</h2>
        <p class="text-sm text-muted-foreground">
          Text input with multiple validation modes and real-time feedback
        </p>
      </app-card-header>
      
      <app-card-content>
        <div class="grid gap-6">
          <!-- Exact Match -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Exact Match Validation</h3>
            <app-short-answer
              id="showcase-sa-1"
              question="What is the capital of France?"
              placeholder="Enter your answer..."
              [validation]="{
                mode: 'exact',
                expected: ['Paris', 'paris'],
                caseSensitive: false,
                ignoreWhitespace: true
              }"
              [maxLength]="50"
              [minLength]="1"
              [showFeedback]="true"
              correctFeedback="Correct! Paris is the capital of France."
              incorrectFeedback="Not quite. Think about major European capitals."
              (submit)="handleShortAnswerSubmit($event)"
              (valueChange)="handleShortAnswerChange($event)"
            ></app-short-answer>
          </div>

          <!-- Contains Keywords -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Contains Keywords Validation</h3>
            <app-short-answer
              id="showcase-sa-2"
              question="Explain why photosynthesis is important for life on Earth."
              placeholder="Write your explanation..."
              [validation]="{
                mode: 'contains',
                expected: ['oxygen', 'energy', 'food', 'glucose'],
                caseSensitive: false,
                ignoreWhitespace: true
              }"
              [maxLength]="200"
              [minLength]="20"
              [showFeedback]="true"
              correctFeedback="Good! Your answer mentions key aspects of photosynthesis."
              incorrectFeedback="Think about what photosynthesis produces and why that matters."
              (submit)="handleShortAnswerSubmit($event)"
              (valueChange)="handleShortAnswerChange($event)"
            ></app-short-answer>
          </div>

          <!-- Similarity/Fuzzy Match -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Similarity (Fuzzy) Matching</h3>
            <app-short-answer
              id="showcase-sa-3"
              question="Name the process by which plants convert sunlight into chemical energy."
              placeholder="Enter the term..."
              [validation]="{
                mode: 'similarity',
                expected: ['photosynthesis'],
                caseSensitive: false,
                ignoreWhitespace: true,
                similarityThreshold: 0.8
              }"
              [maxLength]="100"
              [minLength]="5"
              [showFeedback]="true"
              correctFeedback="Correct! Photosynthesis is the process."
              incorrectFeedback="Close! Check your spelling or try again."
              (submit)="handleShortAnswerSubmit($event)"
              (valueChange)="handleShortAnswerChange($event)"
            ></app-short-answer>
          </div>

          <!-- Open-Ended (No Validation) -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Open-Ended (No Validation)</h3>
            <app-short-answer
              id="showcase-sa-4"
              question="Describe a time when you solved a difficult problem. What strategies did you use?"
              placeholder="Share your experience..."
              [validation]="{
                mode: 'none',
                expected: []
              }"
              [maxLength]="500"
              [minLength]="50"
              [ui]="{
                variant: 'default',
                showCharCount: true,
                autoResize: true
              }"
              [showFeedback]="true"
              correctFeedback="Thank you for sharing your experience!"
              (submit)="handleShortAnswerSubmit($event)"
              (valueChange)="handleShortAnswerChange($event)"
            ></app-short-answer>
          </div>

          <!-- Compact Variant -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Compact Variant</h3>
            <app-short-answer
              id="showcase-sa-5"
              question="What is 7 × 8?"
              placeholder="Answer"
              [validation]="{
                mode: 'exact',
                expected: ['56'],
                caseSensitive: false,
                ignoreWhitespace: true
              }"
              [maxLength]="10"
              [minLength]="1"
              [ui]="{
                variant: 'compact',
                showCharCount: false,
                autoResize: false
              }"
              [showFeedback]="true"
              correctFeedback="Correct!"
              incorrectFeedback="Try again."
              (submit)="handleShortAnswerSubmit($event)"
              (valueChange)="handleShortAnswerChange($event)"
            ></app-short-answer>
          </div>
        </div>
      </app-card-content>
    </app-card>
  </div>

  <!-- Fill-in-the-Blanks Widget Section -->
  <div class="mb-8">
    <app-card>
      <app-card-header>
        <h2 class="text-xl font-semibold">Fill-in-the-Blanks Widget</h2>
        <p class="text-sm text-muted-foreground">
          Interactive template-based exercises with multiple blank types
        </p>
      </app-card-header>
      
      <app-card-content>
        <div class="grid gap-6">
          <!-- Simple Text Blanks -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Simple Text Blanks</h3>
            <app-fill-in-blanks
              id="showcase-fib-1"
              [template]="fibTemplate1"
              [blanks]="[
                {
                  id: 'animal',
                  placeholder: 'animal',
                  type: 'text',
                  correctAnswers: ['fox'],
                  caseSensitive: false,
                  hint: 'A small wild canine'
                },
                {
                  id: 'animal2',
                  placeholder: 'animal',
                  type: 'text',
                  correctAnswers: ['dog'],
                  caseSensitive: false,
                  hint: 'A common domestic pet'
                }
              ]"
              [showHints]="true"
              [showFeedback]="true"
              (submit)="handleFillInBlanksSubmit($event)"
              (answersChange)="handleFillInBlanksChange($event)"
            ></app-fill-in-blanks>
          </div>

          <!-- Number Blanks -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Number Blanks (Math)</h3>
            <app-fill-in-blanks
              id="showcase-fib-2"
              [template]="fibTemplate2"
              [blanks]="[
                {
                  id: 'num1',
                  placeholder: 'number',
                  type: 'number',
                  correctAnswers: ['5'],
                  hint: 'A small positive integer'
                },
                {
                  id: 'num2',
                  placeholder: 'result',
                  type: 'number',
                  correctAnswers: ['12'],
                  hint: 'The sum'
                },
                {
                  id: 'num3',
                  placeholder: 'operation',
                  type: 'number',
                  correctAnswers: ['5'],
                  hint: 'Same as the first number'
                },
                {
                  id: 'answer',
                  placeholder: 'x value',
                  type: 'number',
                  correctAnswers: ['7'],
                  hint: 'The final result'
                }
              ]"
              [showHints]="true"
              [showFeedback]="true"
              (submit)="handleFillInBlanksSubmit($event)"
              (answersChange)="handleFillInBlanksChange($event)"
            ></app-fill-in-blanks>
          </div>

          <!-- Select Dropdowns -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Select Dropdowns</h3>
            <app-fill-in-blanks
              id="showcase-fib-3"
              [template]="fibTemplate3"
              [blanks]="[
                {
                  id: 'type',
                  placeholder: 'type',
                  type: 'select',
                  correctAnswers: ['interpreted'],
                  options: ['compiled', 'interpreted', 'assembly', 'markup'],
                  hint: 'Executed line by line'
                },
                {
                  id: 'environment',
                  placeholder: 'where',
                  type: 'select',
                  correctAnswers: ['browser'],
                  options: ['browser', 'database', 'filesystem', 'kernel'],
                  hint: 'Web-based environment'
                }
              ]"
              [showHints]="true"
              [showFeedback]="true"
              (submit)="handleFillInBlanksSubmit($event)"
              (answersChange)="handleFillInBlanksChange($event)"
            ></app-fill-in-blanks>
          </div>

          <!-- Science Vocabulary -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Science Vocabulary (Multiple Correct Answers)</h3>
            <app-fill-in-blanks
              id="showcase-fib-4"
              [template]="fibTemplate4"
              [blanks]="[
                {
                  id: 'organelle',
                  placeholder: 'cell structure',
                  type: 'text',
                  correctAnswers: ['chloroplast', 'chloroplasts'],
                  caseSensitive: false,
                  hint: 'Green organelles in plants'
                },
                {
                  id: 'pigment',
                  placeholder: 'green pigment',
                  type: 'text',
                  correctAnswers: ['chlorophyll'],
                  caseSensitive: false,
                  hint: 'Makes plants green'
                },
                {
                  id: 'gas',
                  placeholder: 'atmospheric gas',
                  type: 'text',
                  correctAnswers: ['carbon dioxide', 'CO2'],
                  caseSensitive: false,
                  hint: 'What we exhale'
                },
                {
                  id: 'sugar',
                  placeholder: 'product',
                  type: 'text',
                  correctAnswers: ['glucose'],
                  caseSensitive: false,
                  hint: 'Simple sugar'
                }
              ]"
              [showHints]="true"
              [showFeedback]="true"
              (submit)="handleFillInBlanksSubmit($event)"
              (answersChange)="handleFillInBlanksChange($event)"
            ></app-fill-in-blanks>
          </div>

          <!-- Compact Variant -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Compact Variant (No Hints)</h3>
            <app-fill-in-blanks
              id="showcase-fib-5"
              [template]="fibTemplate5"
              [blanks]="[
                {
                  id: 'country',
                  placeholder: 'country',
                  type: 'text',
                  correctAnswers: ['France'],
                  caseSensitive: false
                },
                {
                  id: 'city',
                  placeholder: 'city',
                  type: 'text',
                  correctAnswers: ['Paris'],
                  caseSensitive: false
                }
              ]"
              [ui]="{
                variant: 'compact',
                emphasizeBlanks: true
              }"
              [showHints]="false"
              [showFeedback]="true"
              (submit)="handleFillInBlanksSubmit($event)"
              (answersChange)="handleFillInBlanksChange($event)"
            ></app-fill-in-blanks>
          </div>
        </div>
      </app-card-content>
    </app-card>
  </div>

  <!-- Matching Pairs Widget Section -->
  <div class="mb-8">
    <app-card>
      <app-card-header>
        <h2 class="text-xl font-semibold">Matching Pairs Widget</h2>
        <p class="text-sm text-muted-foreground">
          Interactive matching exercises with drag-drop and select modes
        </p>
      </app-card-header>
      
      <app-card-content>
        <div class="grid gap-6">
          <!-- Vocabulary Matching (Select Mode) -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Vocabulary Matching (Select Mode)</h3>
            <app-matching-pairs
              id="showcase-mp-1"
              title="Match Vocabulary Terms"
              instructions="Match each word with its definition."
              [leftItems]="vocabularyLeft"
              [rightItems]="vocabularyRight"
              [correctMatches]="vocabularyMatches"
              mode="select"
              [shuffleItems]="false"
              [showHints]="true"
              [requireAllMatches]="true"
              [ui]="{ variant: 'default', showCategories: false, emphasizeMatches: true }"
              [onMatch]="handleMatchingPairsMatch.bind(this)"
              [onUnmatch]="handleMatchingPairsUnmatch.bind(this)"
              [onComplete]="handleMatchingPairsComplete.bind(this)"
              (matchCreated)="handleMatchingPairsMatch($event)"
              (matchRemoved)="handleMatchingPairsUnmatch($event)"
              (complete)="handleMatchingPairsComplete($event)"
            ></app-matching-pairs>
          </div>

          <!-- Programming Concepts (Drag-Drop Mode with Categories) -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Programming Concepts (Drag-Drop with Categories)</h3>
            <app-matching-pairs
              id="showcase-mp-2"
              title="Match Programming Concepts"
              instructions="Drag items from the left to match with their descriptions on the right."
              [leftItems]="programmingLeft"
              [rightItems]="programmingRight"
              [correctMatches]="programmingMatches"
              mode="drag-drop"
              [shuffleItems]="true"
              [showHints]="true"
              [requireAllMatches]="true"
              [ui]="{ variant: 'default', showCategories: true, emphasizeMatches: true }"
              [onMatch]="handleMatchingPairsMatch.bind(this)"
              [onUnmatch]="handleMatchingPairsUnmatch.bind(this)"
              [onComplete]="handleMatchingPairsComplete.bind(this)"
              (matchCreated)="handleMatchingPairsMatch($event)"
              (matchRemoved)="handleMatchingPairsUnmatch($event)"
              (complete)="handleMatchingPairsComplete($event)"
            ></app-matching-pairs>
          </div>

          <!-- Historical Events (Shuffled) -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Historical Events (Shuffled, No Explanations)</h3>
            <app-matching-pairs
              id="showcase-mp-3"
              title="Match Years to Events"
              instructions="Match each year with the historical event that occurred."
              [leftItems]="historyLeft"
              [rightItems]="historyRight"
              [correctMatches]="historyMatches"
              mode="select"
              [shuffleItems]="true"
              [showHints]="false"
              [requireAllMatches]="true"
              [ui]="{ variant: 'default', showCategories: false, emphasizeMatches: true }"
              [onMatch]="handleMatchingPairsMatch.bind(this)"
              [onUnmatch]="handleMatchingPairsUnmatch.bind(this)"
              [onComplete]="handleMatchingPairsComplete.bind(this)"
              (matchCreated)="handleMatchingPairsMatch($event)"
              (matchRemoved)="handleMatchingPairsUnmatch($event)"
              (complete)="handleMatchingPairsComplete($event)"
            ></app-matching-pairs>
          </div>

          <!-- Science - Chemical Symbols (Compact) -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Chemical Symbols (Compact Variant)</h3>
            <app-matching-pairs
              id="showcase-mp-4"
              title="Chemical Formulas"
              instructions="Match each chemical formula with its common name."
              [leftItems]="scienceLeft"
              [rightItems]="scienceRight"
              [correctMatches]="scienceMatches"
              mode="select"
              [shuffleItems]="false"
              [showHints]="true"
              [requireAllMatches]="true"
              [ui]="{ variant: 'compact', showCategories: false, emphasizeMatches: true }"
              [onMatch]="handleMatchingPairsMatch.bind(this)"
              [onUnmatch]="handleMatchingPairsUnmatch.bind(this)"
              [onComplete]="handleMatchingPairsComplete.bind(this)"
              (matchCreated)="handleMatchingPairsMatch($event)"
              (matchRemoved)="handleMatchingPairsUnmatch($event)"
              (complete)="handleMatchingPairsComplete($event)"
            ></app-matching-pairs>
          </div>
        </div>
      </app-card-content>
    </app-card>
  </div>

  <!-- Ordering Widget Section -->
  <div class="mb-8">
    <app-card>
      <app-card-header>
        <h2 class="text-xl font-semibold">Ordering Widget</h2>
        <p class="text-sm text-muted-foreground">
          Interactive sequencing exercises with drag-drop and button modes
        </p>
      </app-card-header>
      
      <app-card-content>
        <div class="grid gap-6">
          <!-- Simple Ordering (Drag-Drop Mode) -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Simple Ordering (Drag-Drop Mode)</h3>
            <app-ordering
              id="showcase-ord-1"
              title="How to Make a Sandwich"
              instructions="Drag the steps into the correct order."
              [items]="sandwichSteps"
              mode="drag-drop"
              [shuffleItems]="true"
              [showHints]="true"
              [showPositions]="true"
              [autoCheck]="true"
              [ui]="{ variant: 'default', showCategories: false, emphasizeCorrect: true }"
              [onReorder]="handleOrderingReorder.bind(this)"
              [onComplete]="handleOrderingComplete.bind(this)"
              (reorder)="handleOrderingReorder($event)"
              (complete)="handleOrderingComplete($event)"
            ></app-ordering>
          </div>

          <!-- Software Development Lifecycle (Button Mode with Categories) -->
          <div>
            <h3 class="mb-2 text-sm font-medium">SDLC Steps (Button Mode with Categories)</h3>
            <app-ordering
              id="showcase-ord-2"
              title="Software Development Lifecycle"
              instructions="Use the arrow buttons to arrange these phases in order."
              [items]="sdlcSteps"
              mode="buttons"
              [shuffleItems]="true"
              [showHints]="true"
              [showPositions]="true"
              [autoCheck]="true"
              [ui]="{ variant: 'default', showCategories: true, emphasizeCorrect: true }"
              [onReorder]="handleOrderingReorder.bind(this)"
              [onComplete]="handleOrderingComplete.bind(this)"
              (reorder)="handleOrderingReorder($event)"
              (complete)="handleOrderingComplete($event)"
            ></app-ordering>
          </div>

          <!-- Historical Events (Manual Check) -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Historical Events (Manual Check Mode)</h3>
            <app-ordering
              id="showcase-ord-3"
              title="U.S. Historical Timeline"
              instructions="Arrange these events in chronological order, then click 'Check Order'."
              [items]="historicalEvents"
              mode="drag-drop"
              [shuffleItems]="true"
              [showHints]="true"
              [showPositions]="true"
              [autoCheck]="false"
              [ui]="{ variant: 'default', showCategories: false, emphasizeCorrect: true }"
              [onReorder]="handleOrderingReorder.bind(this)"
              [onCheck]="handleOrderingCheck.bind(this)"
              [onComplete]="handleOrderingComplete.bind(this)"
              (reorder)="handleOrderingReorder($event)"
              (check)="handleOrderingCheck($event)"
              (complete)="handleOrderingComplete($event)"
            ></app-ordering>
          </div>

          <!-- Loop Steps (Compact Variant) -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Programming Loop Steps (Compact)</h3>
            <app-ordering
              id="showcase-ord-4"
              title="For Loop Execution Order"
              instructions="Order these steps as they occur in a for loop."
              [items]="loopSteps"
              mode="drag-drop"
              [shuffleItems]="true"
              [showHints]="true"
              [showPositions]="true"
              [autoCheck]="true"
              [ui]="{ variant: 'compact', showCategories: false, emphasizeCorrect: true }"
              [onReorder]="handleOrderingReorder.bind(this)"
              [onComplete]="handleOrderingComplete.bind(this)"
              (reorder)="handleOrderingReorder($event)"
              (complete)="handleOrderingComplete($event)"
            ></app-ordering>
          </div>
        </div>
      </app-card-content>
    </app-card>
  </div>

  <!-- Numeric Input Widget Section -->
  <div class="mb-8">
    <app-card>
      <app-card-header>
        <h2 class="text-xl font-semibold">Numeric Input Widget</h2>
        <p class="text-sm text-muted-foreground">
          Numeric input with multiple validation modes
        </p>
      </app-card-header>
      
      <app-card-content>
        <div class="grid gap-6">
          <!-- Exact Match -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Exact Match Validation</h3>
            <app-numeric-input
              id="showcase-num-1"
              question="What is 7 × 8?"
              placeholder="Enter your answer"
              [correctAnswer]="56"
              [showFeedback]="true"
              correctFeedback="Perfect! 7 × 8 = 56"
              incorrectFeedback="Not quite. Try again."
              hint="Multiply 7 by 8"
              [ui]="{ variant: 'default', showCalculator: true, emphasizeCorrect: true }"
              (valueChange)="handleNumericInputChange($event)"
              (submit)="handleNumericInputSubmit($event)"
            ></app-numeric-input>
          </div>

          <!-- Range Validation -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Range Validation</h3>
            <app-numeric-input
              id="showcase-num-2"
              question="Estimate the number of students in a typical high school class."
              placeholder="Enter a number"
              [constraints]="{
                type: 'range',
                min: 20,
                max: 35
              }"
              [showFeedback]="true"
              correctFeedback="Good estimate! That's a typical class size."
              hint="Think about your own class size"
              [ui]="{ variant: 'default', showCalculator: false, emphasizeCorrect: true }"
              (valueChange)="handleNumericInputChange($event)"
              (submit)="handleNumericInputSubmit($event)"
            ></app-numeric-input>
          </div>

          <!-- Tolerance Validation -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Tolerance (±) Validation</h3>
            <app-numeric-input
              id="showcase-num-3"
              question="What is the value of π (pi)?"
              placeholder="Enter approximate value"
              [constraints]="{
                type: 'tolerance',
                value: 3.14159,
                tolerance: 0.01
              }"
              [allowDecimals]="true"
              [showFeedback]="true"
              correctFeedback="Close enough! π ≈ 3.14159"
              hint="Pi is approximately 3.14"
              [ui]="{ variant: 'default', showCalculator: false, emphasizeCorrect: true }"
              (valueChange)="handleNumericInputChange($event)"
              (submit)="handleNumericInputSubmit($event)"
            ></app-numeric-input>
          </div>

          <!-- Multiple Validation -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Multiple Of Validation</h3>
            <app-numeric-input
              id="showcase-num-4"
              question="Enter any even number."
              placeholder="Enter an even number"
              [constraints]="{
                type: 'multiple',
                value: 2
              }"
              [showFeedback]="true"
              correctFeedback="Correct! That's an even number."
              incorrectFeedback="That's not an even number. Even numbers are divisible by 2."
              hint="Even numbers: 2, 4, 6, 8, 10..."
              [ui]="{ variant: 'default', showCalculator: false, emphasizeCorrect: true }"
              (valueChange)="handleNumericInputChange($event)"
              (submit)="handleNumericInputSubmit($event)"
            ></app-numeric-input>
          </div>

          <!-- With Unit Display -->
          <div>
            <h3 class="mb-2 text-sm font-medium">With Unit Display</h3>
            <app-numeric-input
              id="showcase-num-5"
              question="Normal human body temperature in Fahrenheit?"
              placeholder="Enter temperature"
              [constraints]="{
                type: 'tolerance',
                value: 98.6,
                tolerance: 0.5,
                unit: '°F'
              }"
              [showUnit]="true"
              unit="°F"
              [allowDecimals]="true"
              [showFeedback]="true"
              correctFeedback="Correct! Normal body temp is about 98.6°F"
              hint="It's around 98-99°F"
              [ui]="{ variant: 'compact', showCalculator: false, emphasizeCorrect: true }"
              (valueChange)="handleNumericInputChange($event)"
              (submit)="handleNumericInputSubmit($event)"
            ></app-numeric-input>
          </div>
        </div>
      </app-card-content>
    </app-card>
  </div>

  <!-- Review Loop Widget Section -->
  <div class="mb-8">
    <app-card>
      <app-card-header>
        <h2 class="text-xl font-semibold">Review Loop</h2>
        <p class="text-sm text-muted-foreground">Replays 2-3 adaptive practice questions on weak skills</p>
      </app-card-header>
      <app-card-content>
        <app-review-loop
          id="showcase-review-loop"
          [weakSkills]="weakSkillsDemo"
          [reviewMode]="'adaptive'"
          [questionsPerSkill]="2"
          [timeLimit]="5"
          [targetAccuracy]="0.8"
          [questionPool]="reviewQuestionPool"
          [ui]="{ variant: 'default', showProgress: true, showTimer: true, showExplanations: true }"
        ></app-review-loop>
      </app-card-content>
    </app-card>
  </div>

  <!-- Code Editor Widget Section (last) -->
  <div class="mb-8">
    <app-card>
      <app-card-header>
        <h2 class="text-xl font-semibold text-foreground">Code Editor</h2>
        <p class="text-sm text-muted-foreground">Interactive JavaScript editor with run and reset actions</p>
      </app-card-header>
      <app-card-content>
        <app-code-editor
          [metadata]="{
            id: 'code-editor-demo',
            title: 'JavaScript Code Editor',
            description: 'Write and run JavaScript code with test cases',
            category: 'coding',
            skills: ['javascript', 'coding', 'problem-solving'],
            difficulty: 2,
            estimated_time: 300,
            input_type: WidgetInputType.CODE,
            output_type: WidgetOutputType.FEEDBACK,
            dependencies: [],
            adaptive_hooks: {},
            version: '1.0.0'
          }"
          title="JavaScript Code Editor"
          language="javascript"
          [starterCode]="jsStarterCode"
          [testCases]="jsTestCases"
          [showOutput]="true"
          [showFooter]="true"
          [enableSyntaxHighlighting]="true"
          [enableAutoCompletion]="true"
          [enableLineNumbers]="true"
          [allowUserSettings]="true"
          width="100%"
          height="500px"
        ></app-code-editor>
      </app-card-content>
    </app-card>
  </div>

  

  <!-- Error Explain Widget Section -->
  <div class="mb-8">
    <app-card>
      <app-card-header>
        <h2 class="text-xl font-semibold">Error Explain Widget</h2>
        <p class="text-sm text-muted-foreground">
          Error explanations with fix steps and code examples
        </p>
      </app-card-header>
      
      <app-card-content>
        <div class="grid gap-6">
          <!-- Python TypeError -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Python TypeError</h3>
            <app-error-explain
              id="showcase-err-1"
              errorSignature="TypeError: unsupported operand type(s) for +: 'int' and 'str'"
              errorMessage="Cannot concatenate an integer and a string"
              explanation="Python doesn't allow you to add a number and a string together directly. You need to convert one type to match the other."
              [fixSteps]="[
                'Convert the integer to a string using str()',
                'Or convert the string to an integer using int()',
                'Then perform the operation'
              ]"
              [relatedConcepts]="['type conversion', 'string concatenation', 'data types']"
              codeExample="# Wrong:\nage = 25\nprint('Age: ' + age)\n\n# Correct:\nage = 25\nprint('Age: ' + str(age))"
              [ui]="{ variant: 'default', showCodeExample: true, emphasizeFix: true }"
              [onDismiss]="handleErrorDismiss.bind(this)"
              [onFixApplied]="handleErrorFixApplied.bind(this)"
              (dismiss)="handleErrorDismiss()"
              (fixApplied)="handleErrorFixApplied()"
            ></app-error-explain>
          </div>

          <!-- JavaScript Undefined -->
          <div>
            <h3 class="mb-2 text-sm font-medium">JavaScript Undefined Property</h3>
            <app-error-explain
              id="showcase-err-2"
              errorSignature="TypeError: Cannot read property 'name' of undefined"
              errorMessage="Attempting to access a property on an undefined object"
              explanation="This error occurs when you try to access a property on a variable that hasn't been initialized or doesn't exist."
              [fixSteps]="[
                'Check if the object exists before accessing properties',
                'Use optional chaining (?.) operator',
                'Provide a default value with nullish coalescing (??)'
              ]"
              [relatedConcepts]="['optional chaining', 'nullish coalescing', 'defensive programming']"
              codeExample="// Wrong:\nconst name = user.profile.name;\n\n// Correct:\nconst name = user?.profile?.name ?? 'Anonymous';"
              [ui]="{ variant: 'default', showCodeExample: true, emphasizeFix: true }"
              [onDismiss]="handleErrorDismiss.bind(this)"
              [onFixApplied]="handleErrorFixApplied.bind(this)"
              (dismiss)="handleErrorDismiss()"
              (fixApplied)="handleErrorFixApplied()"
            ></app-error-explain>
          </div>

          <!-- Array Index Out of Bounds -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Array Index Error (Compact)</h3>
            <app-error-explain
              id="showcase-err-3"
              errorSignature="IndexError: list index out of range"
              errorMessage="Trying to access an array element that doesn't exist"
              explanation="You're trying to access an index that's beyond the length of the array. Remember, arrays are zero-indexed!"
              [fixSteps]="[
                'Check the array length before accessing',
                'Use array.length - 1 for the last element',
                'Add bounds checking in your loops'
              ]"
              [relatedConcepts]="['array indexing', 'zero-based indexing', 'bounds checking']"
              codeExample="# Wrong:\narr = [1, 2, 3]\nprint(arr[3])\n\n# Correct:\nprint(arr[2])  # Last element"
              [ui]="{ variant: 'compact', showCodeExample: true, emphasizeFix: true }"
              [onDismiss]="handleErrorDismiss.bind(this)"
              [onFixApplied]="handleErrorFixApplied.bind(this)"
              (dismiss)="handleErrorDismiss()"
              (fixApplied)="handleErrorFixApplied()"
            ></app-error-explain>
          </div>

          <!-- Null Pointer -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Null Pointer Exception (Inline)</h3>
            <app-error-explain
              id="showcase-err-4"
              errorSignature="NullPointerException"
              errorMessage="Object reference not set to an instance"
              explanation="You're trying to use an object that hasn't been created yet. Make sure to initialize objects before using them."
              [fixSteps]="[
                'Initialize the object before use',
                'Check for null before accessing',
                'Use null-safe operators where available'
              ]"
              [relatedConcepts]="['null safety', 'object initialization', 'defensive coding']"
              [ui]="{ variant: 'inline', showCodeExample: false, emphasizeFix: true }"
              [onDismiss]="handleErrorDismiss.bind(this)"
              [onFixApplied]="handleErrorFixApplied.bind(this)"
              (dismiss)="handleErrorDismiss()"
              (fixApplied)="handleErrorFixApplied()"
            ></app-error-explain>
          </div>
        </div>
      </app-card-content>
    </app-card>
  </div>

  <!-- Checkpoint Widget Section -->
  <div class="mb-8">
    <app-card>
      <app-card-header>
        <h2 class="text-xl font-semibold">Checkpoint Widget</h2>
        <p class="text-sm text-muted-foreground">
          Progress auto-save with manual save, retry, and restore
        </p>
      </app-card-header>
      
      <app-card-content>
        <div class="grid gap-6">
          <!-- Default Variant -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Default Variant</h3>
            <app-checkpoint
              id="showcase-cp-1"
              [progressPercent]="45"
              stepId="step-3"
              labId="lab-xyz"
              [autoSave]="true"
              [autoSaveInterval]="15"
              [ui]="{ variant: 'default', showProgressBar: true, showLastSaved: true }"
            ></app-checkpoint>
          </div>

          <!-- Inline Variant -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Inline Variant</h3>
            <app-checkpoint
              id="showcase-cp-2"
              [progressPercent]="70"
              stepId="step-7"
              [autoSave]="true"
              [autoSaveInterval]="10"
              [ui]="{ variant: 'inline', showProgressBar: true, showLastSaved: true }"
            ></app-checkpoint>
          </div>

          <!-- Compact Variant (Manual Save) -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Compact Variant (Manual Save)</h3>
            <app-checkpoint
              id="showcase-cp-3"
              [progressPercent]="25"
              stepId="step-1"
              [autoSave]="false"
              [ui]="{ variant: 'compact', showProgressBar: true, showLastSaved: true }"
            ></app-checkpoint>
          </div>
        </div>
      </app-card-content>
    </app-card>
  </div>

  <!-- Outcome Summary Widget Section -->
  <div class="mb-8">
    <app-card>
      <app-card-header>
        <h2 class="text-xl font-semibold">Outcome Summary Widget</h2>
        <p class="text-sm text-muted-foreground">
          Completion stats, skill improvements, and next steps
        </p>
      </app-card-header>
      
      <app-card-content>
        <div class="grid gap-6">
          <!-- Default Variant -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Default Variant</h3>
            <app-outcome-summary
              id="showcase-os-1"
              labId="lab-101"
              labTitle="Intro to Algorithms"
              outcomeType="completion"
              [completionPercent]="100"
              [timeSpent]="85"
              [attempts]="1"
              [score]="0.92"
              [skillImprovements]="[
                { skill: 'Recursion', previousLevel: 2, currentLevel: 4, improvement: 2 },
                { skill: 'Complexity', previousLevel: 3, currentLevel: 4, improvement: 1 }
              ]"
              [keyTakeaways]="[
                'Understand the base and recursive case',
                'Mastered Big-O for common patterns'
              ]"
              [strengths]="['Problem Decomposition', 'Pattern Recognition']"
              [areasForImprovement]="['Iterative DP', 'Space Complexity analysis']"
              [nextLabSuggestions]="[
                { id: 'lab-201', title: 'Dynamic Programming Basics', reason: 'Build on recursion with memoization', difficulty: 'medium', estimatedMinutes: 60 },
                { id: 'lab-202', title: 'Greedy Algorithms', reason: 'Explore optimal local choices', difficulty: 'easy', estimatedMinutes: 45 }
              ]"
              [recommendedReview]="['Divide and Conquer', 'Tail Recursion']"
            ></app-outcome-summary>
          </div>

          <!-- Celebration Variant -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Celebration Variant</h3>
            <app-outcome-summary
              id="showcase-os-2"
              labId="lab-102"
              labTitle="Data Structures Assessment"
              outcomeType="assessment"
              [completionPercent]="100"
              [timeSpent]="55"
              [attempts]="1"
              [score]="0.88"
              [ui]="{ variant: 'celebration', showSkillProgress: true, showNextSteps: true }"
              [skillImprovements]="[
                { skill: 'Trees', previousLevel: 3, currentLevel: 4, improvement: 1 },
                { skill: 'Graphs', previousLevel: 2, currentLevel: 3, improvement: 1 }
              ]"
              [nextLabSuggestions]="[
                { id: 'lab-203', title: 'Advanced Trees', reason: 'AVL, Red-Black Trees', difficulty: 'hard', estimatedMinutes: 90 }
              ]"
            ></app-outcome-summary>
          </div>
        </div>
      </app-card-content>
    </app-card>
  </div>

  <!-- Adaptive Summary Widget Section -->
  <div class="mb-8">
    <app-card>
      <app-card-header>
        <h2 class="text-xl font-semibold">Adaptive Summary Widget</h2>
        <p class="text-sm text-muted-foreground">
          Performance analysis and adaptive recommendations
        </p>
      </app-card-header>
      
      <app-card-content>
        <div class="grid gap-6">
          <div>
            <h3 class="mb-2 text-sm font-medium">Default</h3>
            <app-adaptive-summary
              id="showcase-as-1"
              sectionId="sec-1"
              sectionTitle="Functions & Loops"
              [timeSpent]="40"
              [attempts]="3"
              [hintsUsed]="1"
              [successRate]="0.68"
              [skillAssessments]="[
                { skill: 'Functions', currentLevel: 3.2, targetLevel: 3.5, confidence: 0.8, recentPerformance: [0.5, 0.6, 0.8, 0.7, 0.75] },
                { skill: 'Loops', currentLevel: 2.6, targetLevel: 3.0, confidence: 0.6, recentPerformance: [0.3, 0.4, 0.6, 0.55, 0.6] }
              ]"
              [adaptations]="[
                { type: 'difficulty', direction: 'adjust', reason: 'concept_gaps', description: 'Introduce scaffolded loop exercises', impact: 'medium' },
                { type: 'hints', direction: 'increase', reason: 'struggling', description: 'Enable contextual hints on incorrect attempts', impact: 'low' }
              ]"
              nextDifficulty="medium"
              [estimatedTime]="30"
              [recommendedFocus]="['Loop invariants', 'Function composition', 'Off-by-one errors']"
            ></app-adaptive-summary>
          </div>
        </div>
      </app-card-content>
    </app-card>
  </div>

  <!-- Goal Setter Widget Section -->
  <div class="mb-8">
    <app-card>
      <app-card-header>
        <h2 class="text-xl font-semibold">Goal Setter Widget</h2>
        <p class="text-sm text-muted-foreground">
          Create and track learning goals
        </p>
      </app-card-header>
      
      <app-card-content>
        <div class="grid gap-6">
          <div>
            <h3 class="mb-2 text-sm font-medium">Default</h3>
            <app-goal-setter
              id="showcase-gs-1"
              context="general"
              [goals]="goalsDemo"
              [maxGoals]="5"
              [ui]="{ variant: 'default', showProgress: true, showPriority: true, allowEditing: true }"
            ></app-goal-setter>
          </div>
        </div>
      </app-card-content>
    </app-card>
  </div>

  <!-- Multiple Choice Widget Section -->
  <div class="mb-8">
    <app-card>
      <app-card-header>
        <h2 class="text-xl font-semibold">Multiple Choice Widget</h2>
        <p class="text-sm text-muted-foreground">
          Interactive multiple choice questions
        </p>
      </app-card-header>
      
      <app-card-content>
        <div class="grid gap-6">
          <!-- Single Choice -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Single Choice</h3>
            <app-multiple-choice
              [metadata]="{ id: 'multiple-choice', title: 'Multiple Choice', description: 'Interactive multiple choice', skills: [], difficulty: 2, estimated_time: 60, input_type: WidgetInputType.MULTIPLE_CHOICE, output_type: WidgetOutputType.FEEDBACK, dependencies: [], adaptive_hooks: {}, version: '1.0.0', category: 'core' }"
              id="showcase-mc-1"
              question="What is the capital of France?"
              [options]="[
                { id: '1', label: 'London', value: 'london', isCorrect: false },
                { id: '2', label: 'Berlin', value: 'berlin', isCorrect: false },
                { id: '3', label: 'Paris', value: 'paris', isCorrect: true },
                { id: '4', label: 'Madrid', value: 'madrid', isCorrect: false }
              ]"
              selectionMode="single"
              [correctAnswers]="['paris']"
              [required]="true"
              [ui]="{ variant: 'default', emphasizeCorrect: true }"
              (valueChange)="logEvent('Multiple Choice Value Changed', $event)"
              (choiceSubmit)="logEvent('Multiple Choice Submitted', $event)"
            ></app-multiple-choice>
          </div>

          <!-- Multiple Selection with Rationale -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Multiple Selection with Rationale</h3>
            <app-multiple-choice
              [metadata]="{ id: 'multiple-choice', title: 'Multiple Choice', description: 'Interactive multiple choice', skills: [], difficulty: 2, estimated_time: 60, input_type: WidgetInputType.MULTIPLE_CHOICE, output_type: WidgetOutputType.FEEDBACK, dependencies: [], adaptive_hooks: {}, version: '1.0.0', category: 'core' }"
              id="showcase-mc-2"
              question="Which of the following are programming languages?"
              [options]="[
                { id: '1', label: 'Python', value: 'python', isCorrect: true, rationale: 'Python is a high-level, interpreted programming language.' },
                { id: '2', label: 'HTML', value: 'html', isCorrect: false, rationale: 'HTML is a markup language, not a programming language.' },
                { id: '3', label: 'JavaScript', value: 'javascript', isCorrect: true, rationale: 'JavaScript is a programming language commonly used for web development.' },
                { id: '4', label: 'CSS', value: 'css', isCorrect: false, rationale: 'CSS is a stylesheet language, not a programming language.' }
              ]"
              selectionMode="multiple"
              [correctAnswers]="['python', 'javascript']"
              [showRationale]="true"
              [required]="true"
              [ui]="{ variant: 'default', emphasizeCorrect: true }"
              (valueChange)="logEvent('Multiple Choice Value Changed', $event)"
              (choiceSubmit)="logEvent('Multiple Choice Submitted', $event)"
            ></app-multiple-choice>
          </div>

          <!-- Assessment Variant -->
          <div>
            <h3 class="mb-2 text-sm font-medium">Assessment Variant</h3>
            <app-multiple-choice
              [metadata]="{ id: 'multiple-choice', title: 'Multiple Choice', description: 'Interactive multiple choice', skills: [], difficulty: 2, estimated_time: 60, input_type: WidgetInputType.MULTIPLE_CHOICE, output_type: WidgetOutputType.FEEDBACK, dependencies: [], adaptive_hooks: {}, version: '1.0.0', category: 'core' }"
              id="showcase-mc-3"
              question="What is the time complexity of binary search?"
              [options]="[
                { id: '1', label: 'O(n)', value: 'on', isCorrect: false, rationale: 'O(n) is linear time complexity.' },
                { id: '2', label: 'O(log n)', value: 'ologn', isCorrect: true, rationale: 'Binary search divides the search space in half each iteration.' },
                { id: '3', label: 'O(n²)', value: 'on2', isCorrect: false, rationale: 'O(n²) is quadratic time complexity.' }
              ]"
              selectionMode="single"
              [correctAnswers]="['ologn']"
              [showRationale]="true"
              [required]="true"
              [ui]="{ variant: 'assessment', emphasizeCorrect: true }"
              (valueChange)="logEvent('Multiple Choice Value Changed', $event)"
              (choiceSubmit)="logEvent('Multiple Choice Submitted', $event)"
            ></app-multiple-choice>
          </div>
        </div>
      </app-card-content>
    </app-card>
  </div>
</div>

